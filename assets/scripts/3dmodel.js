window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".model-viewer");Array.from(e).forEach((e=>{function t(){requestAnimationFrame(t),c.update(),a.render(d,r)}const n=e.getAttribute("mtl"),i=e.getAttribute("obj"),o=()=>e.clientWidth/e.clientHeight,a=new THREE.WebGLRenderer({antialias:!0});a.setSize(e.clientWidth,e.clientHeight),e.appendChild(a.domElement);const r=new THREE.PerspectiveCamera(45,o(),1,1500);r.position.set(0,0,100),r.lookAt(0,0,0);const d=new THREE.Scene,s=new THREE.AmbientLight(7303023);d.add(s);const l=new THREE.DirectionalLight(16777215,1);l.position.set(10,10,10).normalize(),d.add(l);const c=new THREE.OrbitControls(r,a.domElement);c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!0,c.minDistance=5,c.maxDistance=1e3;let E;(new THREE.MTLLoader).load(n,(e=>{e.preload();const t=new THREE.OBJLoader;t.setMaterials(e),t.load(i,(e=>{const t=(new THREE.Box3).setFromObject(e),n=new THREE.Vector3;t.getSize(n);const i=t.getCenter(new THREE.Vector3);e.position.sub(i),d.add(e);const o=t.getBoundingSphere(new THREE.Sphere).radius/Math.tan(Math.PI/180*r.fov/2);r.position.set(0,0,o),r.lookAt(d.position),e.traverse((e=>{e.isMesh&&(e.material.side=THREE.DoubleSide,e.material.needsUpdate=!0)})),c.update()}),(()=>{}),(e=>{alert(`Could not load Materials for 3D Viewer \n \n ${e}`)}))}),(()=>{}),(e=>{alert(`Could not load Materials for 3D Viewer \n \n ${e}`)})),t(),window.addEventListener("resize",(()=>{clearTimeout(E),E=setTimeout((()=>{r.aspect=o(),r.updateProjectionMatrix(),a.setSize(e.clientWidth,e.clientHeight)}),200)}))}))}));